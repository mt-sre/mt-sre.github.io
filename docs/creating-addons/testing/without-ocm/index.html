<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.115.3"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=/favicons/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=/favicons/android-chrome-512x512.png sizes=512x512><title>Testing With OCP (Without OCM) | Layered Products SRE</title><meta name=description content="Testing Without OCM
During the development process, it might be useful (and cheaper) to run your
addon on an OCP cluster.
You can spin up an OCP …"><meta property="og:title" content="Testing With OCP (Without OCM)"><meta property="og:description" content="Testing Without OCM During the development process, it might be useful (and cheaper) to run your addon on an OCP cluster.
You can spin up an OCP cluster on your local machine using CRC.
OCP and OSD differ in one important aspect: OCP gives you full access, while OSD restricts the administrative actions. But Managed Tenants will apply resources as unrestricted admin to OSD, just like you can do with your OCP, so OCP is a good OSD mockup for our use case."><meta property="og:type" content="article"><meta property="og:url" content="/docs/creating-addons/testing/without-ocm/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-01-30T15:31:29+01:00"><meta itemprop=name content="Testing With OCP (Without OCM)"><meta itemprop=description content="Testing Without OCM During the development process, it might be useful (and cheaper) to run your addon on an OCP cluster.
You can spin up an OCP cluster on your local machine using CRC.
OCP and OSD differ in one important aspect: OCP gives you full access, while OSD restricts the administrative actions. But Managed Tenants will apply resources as unrestricted admin to OSD, just like you can do with your OCP, so OCP is a good OSD mockup for our use case."><meta itemprop=dateModified content="2023-01-30T15:31:29+01:00"><meta itemprop=wordCount content="572"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Testing With OCP (Without OCM)"><meta name=twitter:description content="Testing Without OCM During the development process, it might be useful (and cheaper) to run your addon on an OCP cluster.
You can spin up an OCP cluster on your local machine using CRC.
OCP and OSD differ in one important aspect: OCP gives you full access, while OSD restricts the administrative actions. But Managed Tenants will apply resources as unrestricted admin to OSD, just like you can do with your OCP, so OCP is a good OSD mockup for our use case."><link rel=preload href=/scss/main.min.0799d219d5950ac36000bb078e915525f0e42b82cd2a4e21fbeb9a6015fc5ef0.css as=style><link href=/scss/main.min.0799d219d5950ac36000bb078e915525f0e42b82cd2a4e21fbeb9a6015fc5ef0.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class=font-weight-bold>Layered Products SRE</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/internal-documentation/access/><span>Getting Access</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.c6ef0e8b82694527c274ff1c08ddb0f7.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.c6ef0e8b82694527c274ff1c08ddb0f7.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsinternal-documentation-li><a href=/docs/internal-documentation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsinternal-documentation><span>Internal Documentation</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsinternal-documentationtutorials-li><a href=/docs/internal-documentation/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsinternal-documentationtutorials><span>Tutorials</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinternal-documentationtutorialsadding_ado_alerts-li><a href=/docs/internal-documentation/tutorials/adding_ado_alerts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinternal-documentationtutorialsadding_ado_alerts><span>Adding ADO alerts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinternal-documentationtutorialsrun_hive_locally-li><a href=/docs/internal-documentation/tutorials/run_hive_locally/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinternal-documentationtutorialsrun_hive_locally><span>Run Hive Locally</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsinternal-documentationaccess-li><a href=/docs/internal-documentation/access/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsinternal-documentationaccess><span>Getting Access</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinternal-documentationaccessbackplane-access-li><a href=/docs/internal-documentation/access/backplane-access/ title="Getting Backplane Access" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinternal-documentationaccessbackplane-access><span>Backplane Access</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinternal-documentationaccessocm-api-access-li><a href=/docs/internal-documentation/access/ocm-api-access/ title="Getting OCM API Access" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinternal-documentationaccessocm-api-access><span>OCM API Access</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinternal-documentationteam_ceremonies-li><a href=/docs/internal-documentation/team_ceremonies/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinternal-documentationteam_ceremonies><span></span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinternal-documentationfeature-flags-li><a href=/docs/internal-documentation/feature-flags/ title="Feature Flags in ADO" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinternal-documentationfeature-flags><span>Feature Flags</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinternal-documentationic-li><a href=/docs/internal-documentation/ic/ title="Interrupt Catcher" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinternal-documentationic><span>IC</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinternal-documentationon-call-li><a href=/docs/internal-documentation/on-call/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsinternal-documentationon-call><span>On-Call</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsonboarding-li><a href=/docs/onboarding/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsonboarding><span>Onboarding</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsonboardingintroduction-li><a href=/docs/onboarding/introduction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsonboardingintroduction><span>Introduction</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsonboardingroms-li><a href=/docs/onboarding/roms/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsonboardingroms><span>ROMS</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsonboardingacceptance-criteria-checklist-li><a href=/docs/onboarding/acceptance-criteria-checklist/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsonboardingacceptance-criteria-checklist><span>Acceptance Criteria Checklist</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsonboardingpager-handover-li><a href=/docs/onboarding/pager-handover/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsonboardingpager-handover><span>Pager Handover</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsonboardingsoak-test-li><a href=/docs/onboarding/soak-test/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsonboardingsoak-test><span>Soak Test</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsrelease-process-li><a href=/docs/release-process/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsrelease-process><span>Release Process</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsrelease-processgating_for_prod-li><a href=/docs/release-process/gating_for_prod/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsrelease-processgating_for_prod><span>Gating for Production</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsaddons-flow-li><a href=/docs/addons-flow/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsaddons-flow><span>Addons Flow</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsaddons-flowarchitecture-li><a href=/docs/addons-flow/architecture/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsaddons-flowarchitecture><span>Addons Flow Architecture</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsaddons-flowapis-li><a href=/docs/addons-flow/apis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsaddons-flowapis><span>APIs</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsaddons-flowmetrics-li><a href=/docs/addons-flow/metrics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsaddons-flowmetrics><span>Metrics</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docscreating-addons-li><a href=/docs/creating-addons/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscreating-addons><span>Creating Addons</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscreating-addonsmonitoring-li><a href=/docs/creating-addons/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscreating-addonsmonitoring><span>Monitoring Addons</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonsmonitoringslo_dashboards-li><a href=/docs/creating-addons/monitoring/slo_dashboards/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonsmonitoringslo_dashboards><span>SLO Dashboards</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonsmonitoringdeadmanssnitch_integration-li><a href=/docs/creating-addons/monitoring/deadmanssnitch_integration/ title="Dead Man's Snitch Operator Integration" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonsmonitoringdeadmanssnitch_integration><span>Dead Man's Snitch</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonsmonitoringpagerduty_integration-li><a href=/docs/creating-addons/monitoring/pagerduty_integration/ title="PagerDuty Integration" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonsmonitoringpagerduty_integration><span>PagerDuty</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonsmonitoringocm_sendgrid_service_integration-li><a href=/docs/creating-addons/monitoring/ocm_sendgrid_service_integration/ title="OCM SendGrid Service Integration" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonsmonitoringocm_sendgrid_service_integration><span>SendGrid</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docscreating-addonstesting-li><a href=/docs/creating-addons/testing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscreating-addonstesting><span>Testing Addons</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonstestinginstall-specific-version-of-addon-li><a href=/docs/creating-addons/testing/install-specific-version-of-addon/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonstestinginstall-specific-version-of-addon><span>Installing a specific version of an Addon in a staging environment</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonstestingwithout-ocm-li><a href=/docs/creating-addons/testing/without-ocm/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonstestingwithout-ocm><span class=td-sidebar-nav-active-item>Testing With OCP (Without OCM)</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonstestingosde2e-li><a href=/docs/creating-addons/testing/osde2e/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonstestingosde2e><span>Testing With OSD-E2E</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docscreating-addonstop-level-operator-li><a href=/docs/creating-addons/top-level-operator/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docscreating-addonstop-level-operator><span>Top Level Operator</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonstop-level-operatorcustomer-notifications-li><a href=/docs/creating-addons/top-level-operator/customer-notifications/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonstop-level-operatorcustomer-notifications><span>Customer Notifications</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonstop-level-operatordependencies-li><a href=/docs/creating-addons/top-level-operator/dependencies/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonstop-level-operatordependencies><span>Dependencies</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonstop-level-operatorenvironments-li><a href=/docs/creating-addons/top-level-operator/environments/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonstop-level-operatorenvironments><span>Environments</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonstop-level-operatoraddon-package-li><a href=/docs/creating-addons/top-level-operator/addon-package/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonstop-level-operatoraddon-package><span>Plug and Play Addon</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonsmanaged-tenants-repository-li><a href=/docs/creating-addons/managed-tenants-repository/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonsmanaged-tenants-repository><span>managed-tenants Repository</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docscreating-addonssku-li><a href=/docs/creating-addons/sku/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docscreating-addonssku><span>SKU</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/mt-sre/mt-sre.github.io/edit/main/content/en/docs/creating-addons/testing/without-ocm.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/mt-sre/mt-sre.github.io/new/main/content/en/docs/creating-addons/testing/without-ocm.md?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/mt-sre/mt-sre.github.io/issues/new?title=Testing%20With%20OCP%20%28Without%20OCM%29" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a id=print href=/docs/creating-addons/testing/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/docs/>Documentation</a></li><li class=breadcrumb-item><a href=/docs/creating-addons/>Creating Addons</a></li><li class=breadcrumb-item><a href=/docs/creating-addons/testing/>Testing Addons</a></li><li class="breadcrumb-item active" aria-current=page><a href=/docs/creating-addons/testing/without-ocm/>Testing With OCP (Without OCM)</a></li></ol></nav><div class=td-content><h1>Testing With OCP (Without OCM)</h1><header class=article-meta></header><h2 id=testing-without-ocm>Testing Without OCM</h2><p>During the development process, it might be useful (and cheaper) to run your
addon on an OCP cluster.</p><p>You can spin up an OCP cluster on your local machine using
<a href=https://cloud.redhat.com/openshift/install/crc/installer-provisioned>CRC</a>.</p><p>OCP and OSD differ in one important aspect: OCP gives you full access, while
OSD restricts the administrative actions. But Managed Tenants will apply
resources as unrestricted admin to OSD, just like you can do with your OCP,
so OCP is a good OSD mockup for our use case.</p><p>By doing this, you&rsquo;re skipping:</p><ul><li>OCM and SKU management</li><li>Hive</li></ul><p>First, you have to build your catalog. Let take the <code>managed-odh</code> as example:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ managedtenants --environment<span style=color:#ce5c00;font-weight:700>=</span>stage --addons-dir addons --dry-run run --debug tasks/deploy/10_build_push_catalog.py:managed-odh
</span></span><span style=display:flex><span>Loading stage...
</span></span><span style=display:flex><span>Loading stage <span style=color:#000>OK</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>TASKS</span> <span style=color:#ce5c00;font-weight:700>=======================================================================</span>
</span></span><span style=display:flex><span>tasks/deploy/10_build_push_catalog.py:BuildCatalog:managed-odh:stage...
</span></span><span style=display:flex><span> -&gt; creating the temporary directory
</span></span><span style=display:flex><span> -&gt; /tmp/managed-odh-stage-1bkjtsea
</span></span><span style=display:flex><span> -&gt; generating the bundle directory
</span></span><span style=display:flex><span> -&gt; generating the bundle package.yaml
</span></span><span style=display:flex><span> -&gt; building the docker image
</span></span><span style=display:flex><span> -&gt; <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#39;docker&#39;</span>, <span style=color:#4e9a06>&#39;build&#39;</span>, <span style=color:#4e9a06>&#39;-f&#39;</span>, PosixPath<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;/home/apahim/git/managed-tenants/Dockerfile.catalog&#39;</span><span style=color:#ce5c00;font-weight:700>)</span>, <span style=color:#4e9a06>&#39;-t&#39;</span>, <span style=color:#4e9a06>&#39;quay.io/osd-addons/opendatahub-operator:stage-91918fe&#39;</span>, PosixPath<span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#39;/tmp/managed-odh-stage-1bkjtsea&#39;</span><span style=color:#ce5c00;font-weight:700>)]</span>
</span></span><span style=display:flex><span>tasks/deploy/10_build_push_catalog.py:BuildCatalog:managed-odh:stage OK
</span></span><span style=display:flex><span>tasks/deploy/10_build_push_catalog.py:PushCatalog:managed-odh:stage...
</span></span><span style=display:flex><span> -&gt; pushing the docker image
</span></span><span style=display:flex><span> -&gt; <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#39;docker&#39;</span>, <span style=color:#4e9a06>&#39;--config&#39;</span>, <span style=color:#4e9a06>&#39;/home/apahim/.docker&#39;</span>, <span style=color:#4e9a06>&#39;push&#39;</span>, <span style=color:#4e9a06>&#39;quay.io/osd-addons/opendatahub-operator:stage-91918fe&#39;</span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>tasks/deploy/10_build_push_catalog.py:PushCatalog:managed-odh:stage OK
</span></span></code></pre></div><p>That command has built the image
<code>quay.io/osd-addons/opendatahub-operator:stage-91918fe</code> on your local machine.</p><p>You can inspect the image with:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ docker run --rm -it --entrypoint <span style=color:#4e9a06>&#34;bash&#34;</span>  quay.io/osd-addons/opendatahub-operator:stage-91918fe -c <span style=color:#4e9a06>&#34;ls manifests/&#34;</span>
</span></span><span style=display:flex><span>0.8.0  1.0.0-experiment  managed-odh.package.yml
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ docker run --rm -it --entrypoint <span style=color:#4e9a06>&#34;bash&#34;</span>  quay.io/osd-addons/opendatahub-operator:stage-91918fe -c <span style=color:#4e9a06>&#34;cat manifests/managed-odh.package.yml&#34;</span>
</span></span><span style=display:flex><span>channels:
</span></span><span style=display:flex><span>- currentCSV: opendatahub-operator.1.0.0-experiment
</span></span><span style=display:flex><span>  name: beta
</span></span><span style=display:flex><span>defaultChannel: beta
</span></span><span style=display:flex><span>packageName: managed-odh
</span></span></code></pre></div><p>Next, you have to tag/push that image to some public registry repository of
yours:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ docker tag quay.io/osd-addons/opendatahub-operator:stage-91918fe quay.io/&lt;my-repository&gt;/opendatahub-operator:stage-91918fe
</span></span><span style=display:flex><span>$ docker push quay.io/&lt;my-repository&gt;/opendatahub-operator:stage-91918fe
</span></span><span style=display:flex><span>Getting image <span style=color:#204a87>source</span> signatures
</span></span><span style=display:flex><span>Copying blob 9fbc4a1ed0b0 <span style=color:#204a87;font-weight:700>done</span>
</span></span><span style=display:flex><span>Copying blob c4d8f7894b7d skipped: already exists
</span></span><span style=display:flex><span>Copying blob 61598d8d1b24 skipped: already exists
</span></span><span style=display:flex><span>Copying blob 38ada4bcd26f skipped: already exists
</span></span><span style=display:flex><span>Copying blob d5fdf1f627c8 skipped: already exists
</span></span><span style=display:flex><span>Copying blob 2bf094d88b12 skipped: already exists
</span></span><span style=display:flex><span>Copying blob 8a6c7bacb5db <span style=color:#204a87;font-weight:700>done</span>
</span></span><span style=display:flex><span>Copying config 3088e48540 <span style=color:#204a87;font-weight:700>done</span>
</span></span><span style=display:flex><span>Writing manifest to image destination
</span></span><span style=display:flex><span>Copying config 3088e48540 <span style=color:#ce5c00;font-weight:700>[</span>--------------------------------------<span style=color:#ce5c00;font-weight:700>]</span> 0.0b / 3.6KiB
</span></span><span style=display:flex><span>Writing manifest to image destination
</span></span><span style=display:flex><span>Writing manifest to image destination
</span></span><span style=display:flex><span>Storing signatures
</span></span></code></pre></div><p>Now we have to apply the OpenShift resources that will install the operator
in the OCP cluster. You can use the <code>managedtenants</code> command to generate
the stage <code>SelectorSyncSet</code> and look at it for reference:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ managedtenants --environment<span style=color:#ce5c00;font-weight:700>=</span>stage --addons-dir addons --dry-run run --debug tasks/generate/99_generate_SelectorSyncSet.py
</span></span><span style=display:flex><span>Loading stage...
</span></span><span style=display:flex><span>Loading stage <span style=color:#000>OK</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#000>POSTTASKS</span> <span style=color:#ce5c00;font-weight:700>===================================================================</span>
</span></span><span style=display:flex><span>tasks/generate/99_generate_SelectorSyncSet.py:GenerateSSS:stage...
</span></span><span style=display:flex><span> -&gt; Generating SSS template /home/apahim/git/managed-tenants/openshift/stage.yaml
</span></span><span style=display:flex><span>tasks/generate/99_generate_SelectorSyncSet.py:GenerateSSS:stage OK
</span></span></code></pre></div><p>Here&rsquo;s the SelectorSyncSet snippet we are interested in:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#000>---</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>hive.openshift.io/v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>SelectorSyncSet</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>addon-managed-odh</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>clusterDeploymentSelector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>matchLabels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>api.openshift.com/addon-managed-odh</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;true&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>resourceApplyMode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Sync</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>resources</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Namespace</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>annotations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>openshift.io/node-selector</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>null</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>redhat-opendatahub</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>operators.coreos.com/v1alpha1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>CatalogSource</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>addon-managed-odh-catalog</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>openshift-marketplace</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>displayName</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Managed Open Data Hub Operator</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>quay.io/osd-addons/opendatahub-operator:stage-${IMAGE_TAG}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>publisher</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>OSD Red Hat Addons</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>sourceType</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>grpc</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>operators.coreos.com/v1alpha2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>OperatorGroup</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>redhat-layered-product-og</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>redhat-opendatahub</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>operators.coreos.com/v1alpha1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Subscription</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>addon-managed-odh</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>namespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>redhat-opendatahub</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>channel</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>beta</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>managed-odh</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>source</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>addon-managed-odh-catalog</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>sourceNamespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>openshift-marketplace</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Our OpenShift manifest to be applied to the OCP cluster looks as follows:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>List</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span>{}<span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>items</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>v1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Namespace</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>redhat-opendatahub</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>operators.coreos.com/v1alpha1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>CatalogSource</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>addon-managed-odh-catalog</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>displayName</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Managed Open Data Hub Operator</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>image</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>quay.io/&lt;my-repository&gt;/opendatahub-operator:stage-91918fe</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>publisher</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>OSD Red Hat Addons</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>sourceType</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>grpc</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>operators.coreos.com/v1alpha2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>OperatorGroup</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>redhat-layered-product-og</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>operators.coreos.com/v1alpha1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Subscription</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>addon-managed-odh</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>channel</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>beta</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>managed-odh</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>source</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>addon-managed-odh-catalog</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>sourceNamespace</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>openshift-marketplace</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Finally, apply it to the OCP cluster:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ oc apply -f manifest.yaml
</span></span><span style=display:flex><span>Namespace/redhat-opendatahub created
</span></span><span style=display:flex><span>CatalogSource/addon-managed-odh-catalog created
</span></span><span style=display:flex><span>Subscription/addon-managed-odh created
</span></span><span style=display:flex><span>OperatorGroup/redhat-layered-product-og created
</span></span></code></pre></div><p>Your operator should be installed in the cluster.</p><div class="text-muted mt-5 pt-3 border-top">Last modified January 30, 2023: <a href=https://github.com/mt-sre/mt-sre.github.io/commit/3873365eb8dc0f8dcb85342041a8f26f56c02c30>wip (3873365)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.3bff53fa2e8d9a2c4d0b3eeea5987ff2f2cc9a0f4eccb730274827d5e7cd5538.js integrity="sha256-O/9T+i6NmixNCz7upZh/8vLMmg9OzLcwJ0gn1efNVTg=" crossorigin=anonymous></script></body></html>